{"version":3,"file":"rtc-slideshow/view.js","mappings":"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","sources":["webpack://rtc-slideshow/external module \"@wordpress/interactivity\"","webpack://rtc-slideshow/webpack/bootstrap","webpack://rtc-slideshow/webpack/runtime/make namespace object","webpack://rtc-slideshow/./src/rtc-slideshow/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store, getContext, getElement } from '@wordpress/interactivity';\n\nstore('rtc-slideshow', {\n\tstate: {},\n\tactions: {\n\t\t// Go to the previous slide.\n\t\tprevSlide: () => {\n\t\t\tconst ctx = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst parent = ref.closest('[data-wp-interactive]');\n\t\t\tconst slides = parent.querySelectorAll('.slide');\n\t\t\tif (ctx.activeSlide === 0) {\n\t\t\t\tctx.activeSlide = slides.length - 1;\n\t\t\t} else {\n\t\t\t\tctx.activeSlide--;\n\t\t\t}\n\t\t\tclearInterval(ctx.timerRef);\n\t\t\tctx.timerRef = null;\n\t\t},\n\t\t// Go to the next slide.\n\t\tnextSlide: () => {\n\t\t\tconst ctx = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst parent = ref.closest('[data-wp-interactive]');\n\t\t\tconst slides = parent.querySelectorAll('.slide');\n\t\t\tif (ctx.activeSlide === slides.length - 1) {\n\t\t\t\tctx.activeSlide = 0;\n\t\t\t} else {\n\t\t\t\tctx.activeSlide++;\n\t\t\t}\n\t\t\tclearInterval(ctx.timerRef);\n\t\t\tctx.timerRef = null;\n\t\t},\n\t\t// Go to a specific slide.\n\t\tgoToSlide: (e) => {\n\t\t\tconst ctx = getContext();\n\t\t\tconst index = e.target.dataset.index;\n\t\t\tctx.activeSlide = index;\n\t\t\tclearInterval(ctx.timerRef);\n\t\t\tctx.timerRef = null;\n\t\t},\n\t\t// On touchstart event.\n\t\tonTouchStart: (e) => {\n\t\t\tconst ctx = getContext();\n\t\t\tctx.touchStart = e.touches[0].clientX;\n\t\t},\n\t\t// On touchend event.\n\t\tonTouchEnd: (e) => {\n\t\t\tconst ctx = getContext();\n\t\t\tconst threshold = 50;\n\t\t\tconst touchStart = ctx.touchStart;\n\t\t\tconst touchEnd = e.changedTouches[0].clientX;\n\t\t\tconst deltaX = touchEnd - touchStart;\n\t\t\tconst { actions } = store('rtc-slideshow');\n\n\t\t\tif (ctx.touchStart) {\n\t\t\t\tif (Math.abs(deltaX) > threshold) {\n\t\t\t\t\t// swipe left.\n\t\t\t\t\tif (deltaX > 0) {\n\t\t\t\t\t\tactions.prevSlide();\n\t\t\t\t\t\t// swipe right.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactions.nextSlide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.touchStart = null;\n\t\t},\n\t\t// Handle keyboard navigation.\n\t\thandleKeyboardNav: (e) => {\n\t\t\tconst { actions } = store('rtc-slideshow');\n\t\t\tif (e.key === 'ArrowRight') {\n\t\t\t\tactions.nextSlide();\n\t\t\t}\n\t\t\tif (e.key === 'ArrowLeft') {\n\t\t\t\tactions.prevSlide();\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\t// Init the slideshow.\n\t\tinitSlideshow: () => {\n\t\t\tconst ctx = getContext();\n\t\t\tif (ctx.autoplay && ctx.timerRef === null) {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tconst slides = ref.querySelectorAll('.slide');\n\t\t\t\tctx.timerRef = setInterval(() => {\n\t\t\t\t\t// for some reason, actions.nextSlide() is throwing a context error here,\n\t\t\t\t\t// so I'll just copy the logic since it's small.\n\t\t\t\t\tif (ctx.activeSlide === slides.length - 1) {\n\t\t\t\t\t\tctx.activeSlide = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.activeSlide++;\n\t\t\t\t\t}\n\t\t\t\t}, ctx.delay);\n\t\t\t}\n\t\t},\n\t\t// Watch for activeSlide change.\n\t\twatchSlideChange: () => {\n\t\t\tconst { activeSlide } = getContext();\n\t\t\tconst { ref } = getElement();\n\n\t\t\t// update slideshow classes.\n\t\t\tref.querySelector('.slide-active')?.classList.remove(\n\t\t\t\t'slide-active'\n\t\t\t);\n\t\t\tref.querySelector(\n\t\t\t\t`.slide[data-index=\"${activeSlide}\"]`\n\t\t\t)?.classList.add('slide-active');\n\n\t\t\t// update pagination classes.\n\t\t\tref.querySelector('.pagination-active').classList.remove(\n\t\t\t\t'pagination-active'\n\t\t\t);\n\t\t\tref.querySelector(\n\t\t\t\t`.pagination-item[data-index=\"${activeSlide}\"]`\n\t\t\t).classList.add('pagination-active');\n\t\t},\n\t},\n});\n"],"names":["store","getContext","getElement","state","actions","prevSlide","ctx","_getElement","ref","parent","closest","slides","querySelectorAll","activeSlide","length","clearInterval","timerRef","nextSlide","_getElement2","goToSlide","e","index","target","dataset","onTouchStart","touchStart","touches","clientX","onTouchEnd","threshold","touchEnd","changedTouches","deltaX","_store","Math","abs","handleKeyboardNav","_store2","key","callbacks","initSlideshow","autoplay","_getElement3","setInterval","delay","watchSlideChange","_ref$querySelector","_ref$querySelector2","_getContext","_getElement4","querySelector","classList","remove","concat","add"],"sourceRoot":""}